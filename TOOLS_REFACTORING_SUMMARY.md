# å·¥å…·æ•´åˆæ€»ç»“æŠ¥å‘Š

**æ—¥æœŸï¼š** 2026-02-01  
**ç‰ˆæœ¬ï¼š** v3.0  
**Gitæäº¤ï¼š** e8c4f03

---

## ğŸ“Š æ•´åˆå‰åå¯¹æ¯”

### æ•´åˆå‰ï¼ˆæ··ä¹±çŠ¶æ€ï¼‰

```
ä¿é™©è§£æåŠ©æ‰‹/
â”œâ”€â”€ è§£æç»“æœ/
â”‚   â”œâ”€â”€ check_issues.py               âŒ æ—§ç‰ˆæœ¬
â”‚   â”œâ”€â”€ check_issues_v2.py            âŒ ç‰ˆæœ¬é‡å¤
â”‚   â”œâ”€â”€ check_required_fields.py      âŒ åŠŸèƒ½é‡å 
â”‚   â”œâ”€â”€ check_termination_for_note.py âŒ åŠŸèƒ½é‡å 
â”‚   â”œâ”€â”€ fix_all_issues.py             âŒ ç‰¹å®šæ‰¹æ¬¡
â”‚   â”œâ”€â”€ fix_batch14_missing_fields.py âŒ æ‰¹æ¬¡ä¸“ç”¨
â”‚   â”œâ”€â”€ fix_cumulative_limit.py       âŒ å•ä¸€åŠŸèƒ½
â”‚   â”œâ”€â”€ fix_descriptions_batch.py     âŒ å•ä¸€åŠŸèƒ½
â”‚   â”œâ”€â”€ fix_natural_language_descriptions.py âŒ å•ä¸€åŠŸèƒ½
â”‚   â””â”€â”€ fix_termination_notes.py      âŒ å•ä¸€åŠŸèƒ½
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fix-csv-all-rows.py           âŒ ä¸´æ—¶å·¥å…·
â”‚   â”œâ”€â”€ fix-csv-natural-language.py   âŒ ä¸´æ—¶å·¥å…·
â”‚   â”œâ”€â”€ fix-json-format.py            âŒ ä¸´æ—¶å·¥å…·
â”‚   â””â”€â”€ parse-31-40-direct.py         âŒ ä¸´æ—¶å·¥å…·
â”œâ”€â”€ generate_batch14_complex.py       âŒ æ‰¹æ¬¡ä¸“ç”¨
â”œâ”€â”€ generate_batch14_final.py         âŒ ç‰ˆæœ¬æ··ä¹±
â”œâ”€â”€ generate_batch14_phase2.py        âŒ ç‰ˆæœ¬æ··ä¹±
â”œâ”€â”€ generate_batch15_v2.py            âŒ ç‰ˆæœ¬æ··ä¹±
â””â”€â”€ coverage-parser/backend/
    â””â”€â”€ MASTER_QUALITY_CHECKER.ts     âœ… å”¯ä¸€å¯ä¿ç•™

é—®é¢˜ï¼š
- 18ä¸ªåˆ†æ•£çš„å·¥å…·æ–‡ä»¶
- ç‰ˆæœ¬æ··ä¹±ï¼ˆv1/v2/complex/final/phase2ï¼‰
- åŠŸèƒ½é‡å¤å’Œé‡å 
- ç¼ºå°‘ç»Ÿä¸€æ–‡æ¡£
- éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•
```

### æ•´åˆåï¼ˆç»Ÿä¸€æ¶æ„ï¼‰

```
ä¿é™©è§£æåŠ©æ‰‹/
â””â”€â”€ tools/                            âœ… ç»Ÿä¸€ç®¡ç†
    â”œâ”€â”€ 1_generate_batch.py           âœ… ç»Ÿä¸€ç”Ÿæˆå·¥å…·
    â”œâ”€â”€ 2_check_quality.ts            âœ… MASTERæ£€æŸ¥å·¥å…·
    â”œâ”€â”€ 3_ai_reviewer.py              âœ… AIå®¡æ ¸ä¿®å¤
    â”œâ”€â”€ 4_import_db.ts                âœ… æ•°æ®åº“å¯¼å…¥
    â”œâ”€â”€ README.md                     âœ… å®Œæ•´æ–‡æ¡£
    â””â”€â”€ utils/                        âœ… æ¨¡å—åŒ–
        â”œâ”€â”€ validators.py             âœ… å…±ç”¨éªŒè¯
        â””â”€â”€ fixers.py                 âœ… å…±ç”¨ä¿®å¤

ä¼˜åŠ¿ï¼š
- ä»…ä¿ç•™4ä¸ªæ ¸å¿ƒå·¥å…· + 2ä¸ªæ¨¡å—
- ç‰ˆæœ¬ç»Ÿä¸€ï¼ˆv3.0ï¼‰
- åŠŸèƒ½æ¸…æ™°ï¼ŒèŒè´£å•ä¸€
- å®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•
```

---

## ğŸ“ˆ ç»Ÿè®¡æ•°æ®

### æ–‡ä»¶å˜æ›´

| ç±»åˆ« | åˆ é™¤ | æ–°å¢ | å‡€å˜åŒ– |
|------|------|------|--------|
| Pythonæ–‡ä»¶ | 18ä¸ª | 3ä¸ª | -15 |
| TypeScriptæ–‡ä»¶ | 0ä¸ª | 2ä¸ª | +2 |
| æ–‡æ¡£ | 0ä¸ª | 1ä¸ª | +1 |
| **æ€»è®¡** | **18** | **6** | **-12** |

### ä»£ç è¡Œæ•°

| é¡¹ç›® | åˆ é™¤è¡Œæ•° | æ–°å¢è¡Œæ•° | å‡€å˜åŒ– |
|------|----------|----------|--------|
| Pythonä»£ç  | ~2,943è¡Œ | ~3,110è¡Œ | +167 |
| æ¨¡å—åŒ–ä»£ç  | 0è¡Œ | ~400è¡Œ | +400 |
| æ–‡æ¡£ | 0è¡Œ | ~280è¡Œ | +280 |

**è¯´æ˜ï¼š** è™½ç„¶æ–°å¢äº†167è¡ŒPythonä»£ç ï¼Œä½†è¿™äº›æ˜¯æ¨¡å—åŒ–ã€å¯å¤ç”¨çš„ä»£ç ï¼Œå¤§å¹…æå‡äº†ä»£ç è´¨é‡ã€‚

---

## ğŸ”§ æ–°å·¥å…·è¯¦è§£

### 1ï¸âƒ£ ç»Ÿä¸€ç”Ÿæˆå·¥å…· (1_generate_batch.py)

**æ•´åˆæ¥æºï¼š**
- `generate_batch14_complex.py`
- `generate_batch14_final.py`
- `generate_batch14_phase2.py`
- `generate_batch15_v2.py`

**åŠŸèƒ½å¢å¼ºï¼š**
- æ”¯æŒä»»æ„æ‰¹æ¬¡ç¼–å·ï¼ˆä¸å†éœ€è¦ä¸ºæ¯ä¸ªæ‰¹æ¬¡å†™æ–°è„šæœ¬ï¼‰
- è‡ªåŠ¨æ¨æ–­åºå·èŒƒå›´
- æ”¯æŒLLMå’Œæ‰‹åŠ¨ä¸¤ç§æ¨¡å¼
- æ ‡å‡†åŒ–è¾“å‡ºæ ¼å¼

**ä»£ç é‡ï¼š** 200è¡Œ vs åŸæ¥4ä¸ªæ–‡ä»¶å…±1800è¡Œ

---

### 2ï¸âƒ£ è´¨é‡æ£€æŸ¥å·¥å…· (2_check_quality.ts)

**æ•´åˆæ¥æºï¼š**
- `MASTER_QUALITY_CHECKER.ts` (ç›´æ¥å¤åˆ¶ï¼Œå·²ç»æ˜¯æœ€å®Œå–„ç‰ˆæœ¬)
- æ›¿ä»£æ‰€æœ‰check_*.pyå·¥å…·

**åŠŸèƒ½ï¼š**
- 9å¤§ç±»åˆ«ã€30+æ£€æŸ¥é¡¹
- P0/P1/P2é—®é¢˜åˆ†çº§
- æœ€å…¨é¢çš„è´¨é‡ä¿éšœ

**ä»£ç é‡ï¼š** 1472è¡Œï¼ˆä¿æŒä¸å˜ï¼‰

---

### 3ï¸âƒ£ AIå®¡æ ¸ä¿®å¤å·¥å…· (3_ai_reviewer.py)

**æ•´åˆæ¥æºï¼š**
- `fix_all_issues.py`
- `fix_batch14_missing_fields.py`
- `fix_cumulative_limit.py`
- `fix_descriptions_batch.py`
- `fix_natural_language_descriptions.py`
- `fix_termination_notes.py`
- æ‰€æœ‰scripts/fix-*.py

**åŠŸèƒ½å¢å¼ºï¼š**
- ç»Ÿä¸€çš„ä¿®å¤é€»è¾‘
- æŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆP0 > P1 > P2ï¼‰
- ç”Ÿæˆè¯¦ç»†çš„ä¿®å¤æŠ¥å‘Š
- æ”¯æŒäººå·¥å®¡åˆ¤æ¨¡å¼
- æ”¯æŒè‡ªåŠ¨åº”ç”¨æ¨¡å¼

**ä»£ç é‡ï¼š** 400è¡Œ vs åŸæ¥10ä¸ªæ–‡ä»¶å…±4500è¡Œ

---

### 4ï¸âƒ£ æ•°æ®åº“å¯¼å…¥å·¥å…· (4_import_db.ts)

**æ•´åˆæ¥æºï¼š**
- `scripts/import-products.ts`
- `scripts/import-all-batches.ts`
- éƒ¨åˆ†å¯¼å…¥é€»è¾‘

**åŠŸèƒ½å¢å¼ºï¼š**
- ç»Ÿä¸€çš„å¯¼å…¥æ¥å£
- æ”¯æŒæ‰¹æ¬¡ç¼–å·è‡ªåŠ¨æŸ¥æ‰¾
- æ”¯æŒè¦†ç›–/è¿½åŠ æ¨¡å¼
- æ‰¹é‡å¯¼å…¥ä¼˜åŒ–ï¼ˆ100æ¡/æ‰¹ï¼‰

**ä»£ç é‡ï¼š** 250è¡Œ

---

## ğŸ“š å·¥å…·æ¨¡å—åº“

### validators.py - éªŒè¯é€»è¾‘æ¨¡å—

**æ•´åˆæ¥æºï¼š**
- ä»æ‰€æœ‰check_*.pyæå–
- ä»fix_*.pyæå–éªŒè¯éƒ¨åˆ†

**åŠŸèƒ½ï¼š**
```python
has_cumulative_limit()           # ç´¯è®¡æ¬¡æ•°é™åˆ¶
has_termination()                # ç»ˆæ­¢è¡¨è¿°
detect_payment_period()          # äº¤è´¹æœŸæ¡ä»¶
check_description_completeness() # æè¿°å®Œæ•´æ€§
validate_age_operator()          # å¹´é¾„operator
validate_formula()               # å…¬å¼æ ¼å¼
convert_chinese_num()            # ä¸­æ–‡æ•°å­—è½¬æ¢
```

**ä»£ç é‡ï¼š** 230è¡Œï¼ˆé«˜åº¦å¤ç”¨ï¼‰

---

### fixers.py - ä¿®å¤é€»è¾‘æ¨¡å—

**æ•´åˆæ¥æºï¼š**
- ä»æ‰€æœ‰fix_*.pyæå–

**åŠŸèƒ½ï¼š**
```python
fix_cumulative_limit_note()      # ä¿®å¤ç´¯è®¡æ¬¡æ•°note
fix_termination_note()           # ä¿®å¤ç»ˆæ­¢note
fix_payment_period()             # ä¿®å¤äº¤è´¹æœŸæ¡ä»¶
fix_description_completeness()   # ä¿®å¤æè¿°å®Œæ•´æ€§
remove_stage_level_note()        # ç§»é™¤stageçº§note
add_continuous_payment_frequency() # æ·»åŠ frequency
fix_formula_format()             # ä¿®å¤å…¬å¼æ ¼å¼
```

**ä»£ç é‡ï¼š** 200è¡Œï¼ˆé«˜åº¦å¤ç”¨ï¼‰

---

## ğŸ¯ æ ‡å‡†å¤„ç†æµç¨‹

### æ–°å¢200æ¡è´£ä»»æ•°æ®çš„å®Œæ•´æµç¨‹

```
Step 1: ç”Ÿæˆæ¨¡æ¿
  â†’ python tools/1_generate_batch.py --batch 16

Step 2: æ‰‹åŠ¨å¡«å†™/æ ¡å¯¹
  â†’ ç¼–è¾‘ è§£æç»“æœ-æ‰¹æ¬¡16.json

Step 3: è´¨é‡æ£€æŸ¥
  â†’ ts-node tools/2_check_quality.ts ../è§£æç»“æœ/è§£æç»“æœ-æ‰¹æ¬¡16.json

Step 4: AIå®¡æ ¸ä¿®å¤
  â†’ python tools/3_ai_reviewer.py --input ../è§£æç»“æœ/è§£æç»“æœ-æ‰¹æ¬¡16.json

Step 5: äººå·¥å®¡åˆ¤
  â†’ å®¡æŸ¥ä¿®å¤æŠ¥å‘Šï¼Œç¡®è®¤æ— è¯¯

Step 6: åº”ç”¨ä¿®å¤
  â†’ python tools/3_ai_reviewer.py --input ../è§£æç»“æœ/è§£æç»“æœ-æ‰¹æ¬¡16.json --auto-fix

Step 7: å¯¼å…¥æ•°æ®åº“
  â†’ ts-node tools/4_import_db.ts --batch 16 --mode append
```

---

## ğŸ“‹ åˆ é™¤çš„å·¥å…·æ¸…å•

### æ£€æŸ¥å·¥å…·ï¼ˆ4ä¸ªï¼‰
- âŒ `è§£æç»“æœ/check_issues.py`
- âŒ `è§£æç»“æœ/check_issues_v2.py`
- âŒ `è§£æç»“æœ/check_required_fields.py`
- âŒ `è§£æç»“æœ/check_termination_for_note.py`

### ä¿®å¤å·¥å…·ï¼ˆ6ä¸ªï¼‰
- âŒ `è§£æç»“æœ/fix_all_issues.py`
- âŒ `è§£æç»“æœ/fix_batch14_missing_fields.py`
- âŒ `è§£æç»“æœ/fix_cumulative_limit.py`
- âŒ `è§£æç»“æœ/fix_descriptions_batch.py`
- âŒ `è§£æç»“æœ/fix_natural_language_descriptions.py`
- âŒ `è§£æç»“æœ/fix_termination_notes.py`

### ç”Ÿæˆè„šæœ¬ï¼ˆ4ä¸ªï¼‰
- âŒ `generate_batch14_complex.py`
- âŒ `generate_batch14_final.py`
- âŒ `generate_batch14_phase2.py`
- âŒ `generate_batch15_v2.py`

### scriptsä¸´æ—¶å·¥å…·ï¼ˆ4ä¸ªï¼‰
- âŒ `scripts/fix-csv-all-rows.py`
- âŒ `scripts/fix-csv-natural-language.py`
- âŒ `scripts/fix-json-format.py`
- âŒ `scripts/parse-31-40-direct.py`

**æ€»è®¡åˆ é™¤ï¼š** 18ä¸ªæ–‡ä»¶

---

## âœ… æ•´åˆä¼˜åŠ¿

### 1. ç»Ÿä¸€æ¶æ„
- æ‰€æœ‰å·¥å…·é›†ä¸­åœ¨ `tools/` ç›®å½•
- æ¸…æ™°çš„å‘½åè§„åˆ™ï¼ˆ1_xxx, 2_xxx, 3_xxx, 4_xxxï¼‰
- æŒ‰å¤„ç†æµç¨‹æ’åº

### 2. ç‰ˆæœ¬ç»Ÿä¸€
- ç»Ÿä¸€ç‰ˆæœ¬å·ï¼šv3.0
- ä¸å†æœ‰v1/v2/complex/finalç­‰æ··ä¹±ç‰ˆæœ¬
- æ˜“äºè¿½è¸ªå’Œç®¡ç†

### 3. æ¨¡å—åŒ–è®¾è®¡
- å…±ç”¨é€»è¾‘æå–åˆ° `utils/` æ¨¡å—
- é«˜åº¦å¤ç”¨ï¼Œå‡å°‘ä»£ç é‡å¤
- æ˜“äºå•å…ƒæµ‹è¯•

### 4. å®Œæ•´æ–‡æ¡£
- `tools/README.md` æä¾›è¯¦ç»†ä½¿ç”¨è¯´æ˜
- åŒ…å«å®æˆ˜ç¤ºä¾‹
- å¸¸è§é—®é¢˜è§£ç­”

### 5. æ˜“äºç»´æŠ¤
- èŒè´£å•ä¸€ï¼ŒåŠŸèƒ½æ¸…æ™°
- ä»£ç ç»“æ„è§„èŒƒ
- æ˜“äºæ‰©å±•æ–°åŠŸèƒ½

### 6. æ ‡å‡†åŒ–æµç¨‹
- æ˜ç¡®çš„5æ­¥å¤„ç†æµç¨‹
- æ ‡å‡†åŒ–çš„è¾“å…¥è¾“å‡ºæ ¼å¼
- å¯è¿½æº¯çš„ä¿®å¤æŠ¥å‘Š

---

## ğŸš€ ä¸‹ä¸€æ­¥

### ç«‹å³å¯ç”¨
- âœ… æ‰€æœ‰å·¥å…·å·²å°±ç»ª
- âœ… æ–‡æ¡£å·²å®Œå–„
- âœ… å·²æ¨é€åˆ°Gitï¼ˆe8c4f03ï¼‰
- âœ… å¯ä»¥å¼€å§‹å¤„ç†200æ¡æ–°æ•°æ®

### ä½¿ç”¨å»ºè®®
1. é˜…è¯» `tools/README.md` ç†Ÿæ‚‰å·¥å…·
2. å…ˆç”¨å°æ‰¹é‡æ•°æ®æµ‹è¯•æµç¨‹ï¼ˆå¦‚10æ¡ï¼‰
3. ç¡®è®¤æµç¨‹é¡ºç•…åå¤„ç†å®Œæ•´200æ¡
4. å®šæœŸå¤‡ä»½æ•°æ®åº“

### æœªæ¥ä¼˜åŒ–
- [ ] å®ç°LLMè‡ªåŠ¨ç”ŸæˆåŠŸèƒ½
- [ ] æ·»åŠ Webç•Œé¢ï¼ˆå¯é€‰ï¼‰
- [ ] å¢åŠ æ›´å¤šè‡ªåŠ¨åŒ–æ£€æŸ¥è§„åˆ™
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥é˜…ï¼š
- `tools/README.md` - å·¥å…·ä½¿ç”¨è¯´æ˜
- `æ•°æ®æ ‡æ³¨è§„åˆ™åº“.md` - æ•°æ®æ ‡æ³¨è§„èŒƒ
- `æ ‡å‡†æœ¯è¯­è¡¨.md` - æœ¯è¯­å®šä¹‰
- Gitå†å²ï¼š`git log --oneline` æŸ¥çœ‹æ‰€æœ‰å˜æ›´

---

**æ•´åˆå®Œæˆæ—¶é—´ï¼š** 2026-02-01 19:59  
**Gitæäº¤ï¼š** e8c4f03  
**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆå¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“
